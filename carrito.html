<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Carrito - Frutas y Verduras</title>
  <link rel="stylesheet" href="/frutas-verduras-tienda/styles.css">
</head>
<body>
  <div id="header"></div>

  <main class="container">
    <h1>Carrito de Compras</h1>

    <table class="cart-table">
      <thead>
        <tr><th>Producto</th><th>Cantidad</th><th>Precio</th><th>Subtotal</th><th></th></tr>
      </thead>
      <tbody id="cart-table-body"></tbody>
      <tfoot>
        <tr>
          <td colspan="3" style="text-align:right">Total:</td>
          <td id="cart-total">$0.00</td>
          <td></td>
        </tr>
      </tfoot>
    </table>

    <button id="clear-cart">Vaciar carrito</button>
  </main>

  <div id="footer"></div>

  <script src="/frutas-verduras-tienda/scripts/load-shared.js"></script>
  <script>
    // El load-shared.js carga carrito.js y luego llama a Cart.renderCartIfPresent()
    // Aquí añadimos la acción del botón "Vaciar carrito"
    (function waitCart(){
      if (window.Cart) {
        document.getElementById('clear-cart').addEventListener('click', function(){
          localStorage.removeItem('fv-cart');
          Cart.updateBadge();
          Cart.renderCartIfPresent();
        });
      } else {
        setTimeout(waitCart, 100);
      }
    })();
  </script>
</body>
</html>
